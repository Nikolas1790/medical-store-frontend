"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[227],{9122:function(e,n,r){r.r(n),r.d(n,{default:function(){return O}});var t,i,s=r(9439),o=r(2131),c=r(8482),a=r(9637),u=r(4420),l=r(2962),d=r(2791),h=r(168),p=r(619),x=r(2683),f=x.ZP.p(t||(t=(0,h.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 92px;\n  height: 25px;\n  color: ",";\n  background: ",";\n\n  font-size: 14px;\n  border-radius: 40px;\n\n"])),(function(e){var n=e.type;return(0,p.z2)(n)}),(function(e){var n=e.type;return(0,p.pQ)(n)})),m=r(8003),j=r(3393),v=r(9558),g=r(4674),y=r(8553),Z=x.ZP.div(i||(i=(0,h.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n\n"]))),k=r(8162),w=r(6277),b=r(8007),C=r(4798),P=r(469),S=r(1758),I=r(1222),R=r(184),A=b.Ry({name:b.Z_().required("Product info is required"),category:b.Z_().oneOf(p.Jc,"Invalid category").required("Category is required"),stock:b.Rx().required("Stock is required").positive("Stock must be positive"),suppliers:b.Z_().required("Suppliers are required"),price:b.Rx().required("Price is required").positive("Price must be positive")});function q(e){var n=e.closeModals,r=e.isUpdate,t=e.existingProduct,i=(0,d.useState)(""),o=(0,s.Z)(i,2),c=o[0],l=o[1],h=(0,d.useState)(!1),x=(0,s.Z)(h,2),f=x[0],m=x[1],j=(0,d.useRef)(null),v=(0,u.I0)(),g=null===t||void 0===t?void 0:t[5];(0,d.useEffect)((function(){var e=function(e){j.current&&!j.current.contains(e.target)&&m(!1)};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[]);var Z=r?{name:null===t||void 0===t?void 0:t[0],category:null===t||void 0===t?void 0:t[1],stock:null===t||void 0===t?void 0:t[2],suppliers:null===t||void 0===t?void 0:t[3],price:null===t||void 0===t?void 0:t[4]}:{name:"",category:"",stock:"",suppliers:"",price:""},k=(0,w.TA)({initialValues:Z,validationSchema:A,onSubmit:function(e,t){var i=t.resetForm;v(r?(0,a.nM)({id:g,productData:e}):(0,a.gK)(e)),i(),n()}});return(0,R.jsxs)(C.KS,{children:[(0,R.jsx)(C.Pg,{onClick:n,children:(0,R.jsx)("svg",{width:26,height:26,children:(0,R.jsx)("use",{href:"".concat(y.Z,"#icon-x")})})}),(0,R.jsx)(C.Dx,{children:r?"Edit product":"Add a new product"}),(0,R.jsx)("div",{children:(0,R.jsxs)("form",{onSubmit:k.handleSubmit,children:[(0,R.jsxs)(C.LZ,{children:[(0,R.jsxs)(C.oY,{children:[(0,R.jsx)(C.II,{name:"name",type:"text",onChange:k.handleChange,onBlur:k.handleBlur,value:k.values.name,placeholder:"Product Info",haserror:k.touched.name&&k.errors.name}),(0,R.jsx)(C.II,{name:"stock",type:"text",onChange:k.handleChange,onBlur:k.handleBlur,value:k.values.stock,placeholder:"Stock",haserror:k.touched.stock&&k.errors.stock}),(0,R.jsx)(C.II,{name:"price",type:"text",onChange:k.handleChange,onBlur:k.handleBlur,value:k.values.price,placeholder:"Price",haserror:k.touched.price&&k.errors.price})]}),(0,R.jsxs)(C.oY,{children:[(0,R.jsx)(I.Z,{isDropdownOpen:f,toggleDropdown:function(){return m(!f)},selectedCategory:c,setSelectedCategory:l,formik:k,categories:p.Jc,hasError:k.touched.category&&k.errors.category,reservName:null===t||void 0===t?void 0:t[1],fieldName:"category"}),(0,R.jsx)(C.II,{name:"suppliers",type:"text",onChange:k.handleChange,onBlur:k.handleBlur,value:k.values.suppliers,placeholder:"Suppliers",haserror:k.touched.suppliers&&k.errors.suppliers})]})]}),(0,R.jsxs)(C.jG,{children:[(0,R.jsx)(P.Z,{width:"133px",label:"Add",type:"submit"}),(0,R.jsx)(S.Z,{width:"133px",label:"Cansel",onClick:n})]})]})})]})}function B(e){var n=e.item,r=(0,d.useState)(!1),t=(0,s.Z)(r,2),i=t[0],o=t[1],c=(0,u.I0)(),l=null===n||void 0===n?void 0:n[5];return(0,R.jsxs)(Z,{children:[(0,R.jsx)("button",{children:(0,R.jsx)("svg",{width:32,height:32,onClick:function(){return o(!0)},children:(0,R.jsx)("use",{href:"".concat(y.Z,"#icon-btn-edit")})})}),(0,R.jsx)("button",{onClick:function(){c((0,a.Ir)(l))},children:(0,R.jsx)("svg",{width:32,height:32,children:(0,R.jsx)("use",{href:"".concat(y.Z,"#icon-btn-dell")})})}),(0,R.jsx)(k.Z,{active:i,setActive:o,children:(0,R.jsx)(q,{closeModals:function(){return o()},isUpdate:!0,existingProduct:n})})]})}function _(e){var n=e.products,r=n?n.map((function(e){var n=e.name,r=e.category,t=e.stock,i=e.suppliers,s=e.price,o=e._id;return[n,r,t,Array.isArray(i)?i.map((function(e){return e.name})).join(", "):i,s,o]})):[],t=function(e,n,r){var t=r[e],i={};return"actions"!==n&&(i.borderRight="1px solid ".concat(g.Z.blackPrimarySecondary)),"name"===n&&(i.paddingLeft="0px"),(0,R.jsx)(m.b,{style:i,children:"status"===n?(0,R.jsx)(f,{type:t,children:t}):"actions"===n?(0,R.jsx)(B,{item:t}):t})};return(0,R.jsxs)(o.zf,{children:[(0,R.jsx)(o.xD,{children:"All products"}),(0,R.jsx)(o.lL,{children:(0,R.jsxs)(j.L,{numRows:r.length,defaultRowHeight:76,columnWidths:[276,230,199,226,163,146],enableColumnResizing:!1,enableRowResizing:!1,enableRowHeader:!1,children:[(0,R.jsx)(v.s,{name:"Product Info",cellRenderer:function(e){return t(e,"name",r.map((function(e){return e[0]})))}}),(0,R.jsx)(v.s,{name:"Category",cellRenderer:function(e){return t(e,"category",r.map((function(e){return e[1]})))}}),(0,R.jsx)(v.s,{name:"Stock",cellRenderer:function(e){return t(e,"stocks",r.map((function(e){return e[2]})))}}),(0,R.jsx)(v.s,{name:"Suppliers",cellRenderer:function(e){return t(e,"suppliers",r.map((function(e){return e[3]})))}}),(0,R.jsx)(v.s,{name:"Price",cellRenderer:function(e){return t(e,"price",r.map((function(e){return e[4]})))}}),(0,R.jsx)(v.s,{name:"Action",cellRenderer:function(e){return t(e,"actions",r)}})]},"table-".concat(r))})]})}var M,z,E=r(2424),L=x.ZP.button(M||(M=(0,h.Z)(["\n  display: flex;\n  justify-content: center; \n  align-items: center; \n  gap: 8px;\n"]))),D=x.ZP.p(z||(z=(0,h.Z)(["\n  font-size: 14px;\n"])));function N(){var e=(0,u.I0)(),n=(0,u.v9)(l.rm),r=(0,d.useState)(1),t=(0,s.Z)(r,2),i=t[0],h=t[1],p=(0,d.useState)(""),x=(0,s.Z)(p,2),f=x[0],m=x[1],j=(0,d.useState)(!1),v=(0,s.Z)(j,2),g=v[0],y=v[1];(0,d.useEffect)((function(){e((0,a.jI)({page:i,limit:5,name:f}))}),[e,i,5,f,n.total]);var Z=n.total||0,w=Math.ceil(Z/5);return(0,R.jsx)(o.OO,{children:(0,R.jsxs)(o.b0,{children:[(0,R.jsxs)(o.Nc,{children:[(0,R.jsx)(c.Z,{dataFactory:a.jI,plholder:"Product Name",setFilterName:m,setCurrentPage:h}),(0,R.jsxs)(L,{onClick:function(){return y(!0)},children:[(0,R.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,R.jsx)("rect",{width:"42",height:"42",rx:"21",fill:"#59B17A"}),(0,R.jsx)("path",{d:"M27 21H15M21 15V27V15Z",stroke:"white"})]}),(0,R.jsx)(D,{children:"Add a new product"})]})]}),(0,R.jsxs)("div",{children:[(0,R.jsx)(_,{products:n.products}),(0,R.jsx)(E.t,{currentPage:i,totalPages:w,onPageChange:function(e){h(e)}})]}),(0,R.jsx)(k.Z,{active:g,setActive:y,children:(0,R.jsx)(q,{closeModals:function(){return y()}})})]})})}function O(){return(0,R.jsx)(N,{})}}}]);
//# sourceMappingURL=227.b8c76c09.chunk.js.map